# Hide Login Page 功能說明

## 功能概述

Hide Login Page 是 WU工具箱 的一個模組，用於隱藏WordPress的後台登入位置，提高網站安全性。

## 主要功能

1. **隱藏預設登入頁面**：將 `/wp-admin` 和 `/wp-login.php` 重定向到自定義網址
2. **自定義登入網址**：管理員可以設定新的登入頁面網址（預設：`/loginwu`）
3. **智能重定向**：訪客嘗試訪問被隱藏的登入頁面時會被重定向到指定網址
4. **不影響已登入用戶**：已登入的管理員可以正常使用所有功能
5. **靈活配置**：可以隨時啟用/停用功能

## 安裝方法

1. 將 `hide-login-page.php` 文件放入 `includes/` 目錄
2. 插件會自動載入此模組
3. 在 WordPress 後台的「WU工具箱」→「隱藏登入頁面」中進行設置

## 設置選項

### 1. 啟用功能
- 勾選此選項來啟用隱藏登入頁面功能
- 啟用後，預設的登入頁面將無法訪問

### 2. 自定義登入網址
- 設定新的登入頁面網址結尾
- 預設值：`loginwu`
- 新的登入網址將是：`https://yoursite.com/loginwu/`

### 3. 重定向網址
- 當訪客嘗試訪問被隱藏的登入頁面時，將重定向到此網址
- 預設值：網站首頁

## 使用方法

### 啟用功能後
1. 記住新的登入網址（例如：`https://yoursite.com/loginwu/`）
2. 將新網址加入書籤
3. 使用新網址進行登入

### 訪問新登入頁面
- 直接訪問：`https://yoursite.com/loginwu/`
- 或者：`https://yoursite.com/loginwu/wp-admin/`

## 安全特性

1. **防止暴力破解**：隱藏真實的登入頁面位置
2. **減少掃描攻擊**：自動化工具無法找到標準的登入頁面
3. **保持功能完整**：不影響WordPress的正常運作

## 注意事項

### ⚠️ 重要提醒
- 啟用功能後，請務必記住新的登入網址
- 建議將新登入網址加入書籤
- 如果忘記新網址，可以通過以下方式停用功能：
  - 通過資料庫修改選項
  - 通過FTP重命名或刪除模組文件

### 兼容性
- 與所有WordPress版本兼容
- 與其他安全插件兼容
- 不影響已登入用戶的體驗

## 故障排除

### 無法訪問新登入頁面
1. 檢查是否啟用了功能
2. 確認自定義網址設置正確
3. 刷新WordPress重寫規則（在設置頁面保存一次即可）

### 功能無法正常工作
1. 檢查WordPress重寫規則是否啟用
2. 確認插件權限設置正確
3. 檢查是否有其他插件衝突

### 忘記新登入網址
1. 通過資料庫訪問 `wp_options` 表
2. 查找 `wu_hide_login_page_options` 選項
3. 將 `enabled` 值設為 `false`
4. 或者直接刪除該選項

## 技術細節

### 重寫規則
插件會自動添加以下重寫規則：
- `^loginwu/?$` → `index.php?pagename=wp-login`
- `^loginwu/wp-admin/?$` → `index.php?pagename=wp-login&redirect_to=admin_url`

### 過濾器
- `site_url`：修改登入URL
- `wp_redirect`：修改重定向URL
- `network_site_url`：支持多站點

### 鉤子
- `admin_menu`：添加設置頁面
- `admin_init`：初始化設置
- `wp_loaded`：處理重定向
- `template_redirect`：處理自定義登入頁面

## 更新日誌

### 版本 1.0
- 初始版本
- 基本隱藏登入頁面功能
- 自定義登入網址支持
- 管理員設置頁面
- 智能重定向功能